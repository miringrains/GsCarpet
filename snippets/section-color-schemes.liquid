{% comment %}
  Section Color Schemes
  Applies preset color schemes based on section.settings.color_scheme
  
  Parameters:
  - section: The section object with color_scheme setting
  - selector: CSS selector for the section
{% endcomment %}

{% assign selector = selector | default: '#shopify-section-' | append: section.id %}

{% if section.settings.color_scheme and section.settings.color_scheme != 'custom' %}
  <style>
    {% case section.settings.color_scheme %}
      {% when 'light' %}
        {{ selector }} {
          --section-bg-color: #FFFFFF;
          --section-text-color: #2B2C25;
          --section-heading-color: #2B2C25;
          --section-subheading-color: #3E3A37;
          --section-accent-color: #2B2C25;
          --section-accent-hover: #3E3A37;
          --section-button-bg: #2B2C25;
          --section-button-text: #FFFFFF;
          --section-button-hover-bg: #3E3A37;
          --section-button-hover-text: #FFFFFF;
          --section-border-color: rgba(62, 58, 55, 0.15);
          --section-border-hover: rgba(62, 58, 55, 0.25);
          --section-card-bg: #FAFAFA;
          --section-card-text: #2B2C25;
          --section-card-border: rgba(62, 58, 55, 0.15);
          --section-overlay-color: rgba(0, 0, 0, 0.5);
          --section-overlay-opacity: 0.5;
        }
      
      {% when 'dark' %}
        {{ selector }} {
          --section-bg-color: #2B2C25;
          --section-text-color: #FFFFFF;
          --section-heading-color: #FFFFFF;
          --section-subheading-color: #EAE9E6;
          --section-accent-color: #EAE9E6;
          --section-accent-hover: #FFFFFF;
          --section-button-bg: #FFFFFF;
          --section-button-text: #2B2C25;
          --section-button-hover-bg: #EAE9E6;
          --section-button-hover-text: #2B2C25;
          --section-border-color: rgba(255, 255, 255, 0.15);
          --section-border-hover: rgba(255, 255, 255, 0.25);
          --section-card-bg: #3E3A37;
          --section-card-text: #FFFFFF;
          --section-card-border: rgba(255, 255, 255, 0.15);
          --section-overlay-color: rgba(0, 0, 0, 0.7);
          --section-overlay-opacity: 0.7;
        }
      
      {% when 'accent' %}
        {{ selector }} {
          --section-bg-color: #71705C;
          --section-text-color: #FFFFFF;
          --section-heading-color: #FFFFFF;
          --section-subheading-color: #EAE9E6;
          --section-accent-color: #FFFFFF;
          --section-accent-hover: #EAE9E6;
          --section-button-bg: #2B2C25;
          --section-button-text: #FFFFFF;
          --section-button-hover-bg: #3E3A37;
          --section-button-hover-text: #FFFFFF;
          --section-border-color: rgba(255, 255, 255, 0.2);
          --section-border-hover: rgba(255, 255, 255, 0.3);
          --section-card-bg: rgba(255, 255, 255, 0.1);
          --section-card-text: #FFFFFF;
          --section-card-border: rgba(255, 255, 255, 0.2);
          --section-overlay-color: rgba(0, 0, 0, 0.6);
          --section-overlay-opacity: 0.6;
        }
      
      {% when 'default' %}
        {{ selector }} {
          --section-bg-color: {{ settings.background_color | default: '#EAE9E6' }};
          --section-text-color: {{ settings.foreground_color | default: '#2B2C25' }};
          --section-heading-color: {{ settings.foreground_color | default: '#2B2C25' }};
          --section-subheading-color: {{ settings.foreground_color | default: '#3E3A37' }};
          --section-accent-color: {{ settings.accent_color | default: '#2B2C25' }};
          --section-accent-hover: {{ settings.accent_color_hover | default: '#3E3A37' }};
          --section-button-bg: {{ settings.accent_color | default: '#2B2C25' }};
          --section-button-text: #FFFFFF;
          --section-button-hover-bg: {{ settings.accent_color_hover | default: '#3E3A37' }};
          --section-button-hover-text: #FFFFFF;
          --section-border-color: rgba(62, 58, 55, 0.15);
          --section-border-hover: rgba(62, 58, 55, 0.25);
          --section-card-bg: #FFFFFF;
          --section-card-text: {{ settings.foreground_color | default: '#2B2C25' }};
          --section-card-border: rgba(62, 58, 55, 0.15);
          --section-overlay-color: rgba(0, 0, 0, 0.5);
          --section-overlay-opacity: 0.5;
        }
    {% endcase %}
    
    /* Apply base styles for preset schemes */
    {{ selector }} {
      background-color: var(--section-bg-color);
      color: var(--section-text-color);
    }
    
    {{ selector }} h1,
    {{ selector }} h2,
    {{ selector }} h3,
    {{ selector }} h4,
    {{ selector }} h5,
    {{ selector }} h6,
    {{ selector }} .h1,
    {{ selector }} .h2,
    {{ selector }} .h3,
    {{ selector }} .h4,
    {{ selector }} .h5,
    {{ selector }} .h6 {
      color: var(--section-heading-color);
    }
    
    {{ selector }} .subtitle,
    {{ selector }} .subheading {
      color: var(--section-subheading-color);
    }
    
    {{ selector }} a {
      color: var(--section-accent-color);
    }
    
    {{ selector }} a:hover {
      color: var(--section-accent-hover);
    }
    
    {{ selector }} .btn,
    {{ selector }} button[type="submit"] {
      background-color: var(--section-button-bg);
      color: var(--section-button-text);
      border-color: var(--section-button-bg);
    }
    
    {{ selector }} .btn:hover,
    {{ selector }} button[type="submit"]:hover {
      background-color: var(--section-button-hover-bg);
      color: var(--section-button-hover-text);
      border-color: var(--section-button-hover-bg);
    }
    
    {{ selector }} .btn--secondary {
      background-color: transparent;
      color: var(--section-button-bg);
      border-color: var(--section-button-bg);
    }
    
    {{ selector }} .btn--secondary:hover {
      background-color: var(--section-button-bg);
      color: var(--section-button-text);
    }
    
    {{ selector }} .card {
      background-color: var(--section-card-bg);
      color: var(--section-card-text);
      border-color: var(--section-card-border);
    }
    
    {{ selector }} .border,
    {{ selector }} [class*="border-"] {
      border-color: var(--section-border-color);
    }
    
    {{ selector }} .border:hover,
    {{ selector }} [class*="border-"]:hover {
      border-color: var(--section-border-hover);
    }
    
    {{ selector }} .overlay,
    {{ selector }} [class*="overlay"] {
      background-color: var(--section-overlay-color);
      opacity: var(--section-overlay-opacity);
    }
  </style>
{% endif %}
